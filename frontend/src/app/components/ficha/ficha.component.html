<div *ngIf="paciente!=null">
    <mat-card class="m-2 mat-elevation-z4">
        <mat-card-title>
            Datos Usuario
            <hr style="color: #0056b2;" />
        </mat-card-title>

        <mat-card-content>
                <!-- web-display -->
            <div class="col-12 ">
                <div class="row separate ">
                    <mat-label class="col-sm-2 col-xs-12 label mobile-data">Nombre</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 ">{{paciente.nombre}} {{paciente.apellido}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label mobile-data">Rut</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 ">{{paciente.rut}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label mobile-data">Correo</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 ">{{paciente.correo}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label mobile-data">Teléfono</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 ">{{paciente.telefono}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label mobile-data">Dirección</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 ">{{paciente.direccion}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label mobile-data">Fecha Nacimiento</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 ">{{paciente.fechaNacimiento}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label mobile-data">Edad</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 ">{{paciente.edad}}</mat-label>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
    <mat-card class="m-2 mat-elevation-z4">
        <mat-card-title>
            Datos Clínicos
            <hr style="color: #0056b2;" />
        </mat-card-title>

        <mat-card-content>
            <div class="col-12">
                <div class="row">
                    <mat-label class="col-sm-2 col-xs-12 "><strong>Cesfam</strong></mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label tabulation mobile-subdata">Nombre</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 tabulation">{{paciente.cesfam.nombre}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label tabulation mobile-subdata">Dirección</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 tabulation">{{paciente.cesfam.direccion}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label tabulation mobile-subdata">Teléfono</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 tabulation">{{paciente.cesfam.telefono}}</mat-label>
                </div>
                <br>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12"><strong>Enfermedad Crónica</strong></mat-label>
                    <mat-label class="col-sm-8 col-xs-12 tabulation">{{paciente.enfermedadCronica.enfermedad}}</mat-label>
                </div>
                <br>
                <div class="row">
                    <mat-label class="col-sm-2 col-xs-12 "><strong>Médico cabecera</strong></mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label tabulation mobile-subdata">Nombre</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 tabulation">{{paciente.medicoCabecera.nombre}}
                        {{paciente.medicoCabecera.apellido}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label tabulation mobile-subdata">Teléfono</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 tabulation">{{paciente.medicoCabecera.telefono}}</mat-label>
                </div>
                <div class="row separate">
                    <mat-label class="col-sm-2 col-xs-12 label tabulation mobile-subdata">Correo</mat-label>
                    <mat-label class="col-sm-8 col-xs-12 tabulation">{{paciente.medicoCabecera.correo}}</mat-label>
                </div>
            </div>

        </mat-card-content>
    </mat-card>

    <!-- <div *ngIf="historial==null">
        <mat-card class="m-2 mat-elevation-z4">
            <mat-card-title></mat-card-title>

            <mat-card-content>
                <span>No hay atenciones registradas</span>
            </mat-card-content>
        </mat-card>
    </div> -->

    <mat-card class="m-2 mat-elevation-z4">
        <mat-card-title>Historial Atenciones</mat-card-title>
        <hr style="color: #0056b2;" />
        <mat-card-content>
            <mat-table [dataSource]="dataSource" matSort>

                <ng-container matColumnDef="fecha">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</mat-header-cell>
                    <mat-cell *matCellDef="let row" data-label="fecha">
                        <span class="mobile-label">Fecha:</span>
                        {{row.fecha}}
                    </mat-cell>
                </ng-container>

                <ng-container matColumnDef="hora">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Hora</mat-header-cell>
                    <mat-cell *matCellDef="let row" data-label="hora">
                        <span class="mobile-label">Hora:</span>
                        {{row.hora}}</mat-cell>
                </ng-container>

                <ng-container matColumnDef="estado">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Estado</mat-header-cell>
                    <mat-cell *matCellDef="let row">
                        <span class="mobile-label">Estado:</span>
                        <span *ngIf="row.estado==0" style="color: #0fb200;">Agendada</span>
                        <span *ngIf="row.estado==1" style="color: #0fb200;">En Transcurso</span>
                        <span *ngIf="row.estado==2" style="color: #002ab2;">Finalizada</span>
                        <span *ngIf="row.estado==3" style="color: #f83232;">Cancelada</span>
                        <span *ngIf="row.estado==4" style="color: #ebde29;">Reagendada</span>
                    </mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;" routerLink="/dashboard/atencion/{{row._id}}">
                </mat-row>
            </mat-table>

            <mat-paginator [length]="dataSource?.data.length" [pageIndex]="0" [pageSize]="10"
                [pageSizeOptions]="[10, 50, 100, 250]">
            </mat-paginator>


            <!-- <table mat-table class="full-width-table" matSort aria-label="Elements">
                
                <ng-container matColumnDef="fecha">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</th>
                    <td mat-cell *matCellDef="let row"><strong>{{row.fecha}}</strong></td>
                </ng-container>

                <ng-container matColumnDef="hora">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Hora</th>
                    <td mat-cell *matCellDef="let row">{{row.hora}}</td>
                </ng-container>

                
                <ng-container matColumnDef="estado">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>

                    <td mat-cell *matCellDef="let row">
                        <span *ngIf="row.estado==0" style="color: #0fb200;">Agendada</span>
                        <span *ngIf="row.estado==1" style="color: #0fb200;">En Transcurso</span>
                        <span *ngIf="row.estado==2" style="color: #002ab2;">Finalizada</span>
                        <span *ngIf="row.estado==3" style="color: #f83232;">Cancelada</span>
                        <span *ngIf="row.estado==4" style="color: #ebde29;">Reagendada</span>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                    routerLink="/dashboard/atencion/{{row._id}}">
                </tr>
            </table>

            <mat-paginator #paginator [length]="dataSource?.data.length" [pageIndex]="0" [pageSize]="50"
                [pageSizeOptions]="[1, 50, 100, 250]">
            </mat-paginator> -->

        </mat-card-content>
    </mat-card>

</div>